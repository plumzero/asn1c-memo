
### 命令

以下的功能命令，开发者可能会用到，也可能不会用到。

编译 Module 文件，生成相关C文件
```s
  asn1c <modules.asn1>
```

如果多个文件包含信赖，则需要同时编译
```s
  asn1c <module1.asn1> <module2.asn1> ...
```

检验 asn1 结构的语义正确性
```s
  asn1c -EF Module.asn1
```

将编译结构打印到输出，而是不生成相关 c 文件
```s
  asn1c -P Module.asn1
```

编译，但不生成帮助文件
```s
  asn1c -R Module.asn1
```

创建用于对 Module 模块中的 ASN1 结构进行 PER 编解码的的源代码文件
```s
  asn1c -gen-PER Module.asn1
```

创建用于对 Module 模块中的 ASN1 结构进行 BER 或 XER 编解码的源代码文件(默认)
```s
  asn1c Module.asn1
```

生成能够对指定 ASN1 类型(以Circle为例)进行编码的可执行文件
```s
  cc -DPDU=Circle -I. -o CircleDecoder.exe *.c
  cc -I. -o my-program *.c
```

常用命令(推荐使用)
```s
  cc -g -O0 -I. *.c -D_DEFAULT_SOURCE -o myprogram
  cc -g -O0 *.c -D_DEFAULT_SOURCE -o myprogram
```

### 关于 asn1c 工具的 -fcompound-names 的选项

asn1 文件太复杂时，在执行命令 asn1c xxx.asn 时可能会出现如下错误:
```s
  FATAL: Name "e_content" is generated by MyModule.content at line v2x.asn:2609 and MyModule.content at line v2x.asn:2627
  FATAL: Name "enum content" is generated by MyModule.content at line v2x.asn:2609 and MyModule.content at line v2x.asn:2627
  FATAL: Name "content_PR" is generated by MyModule.content at line v2x.asn:2609 and MyModule.content at line v2x.asn:2627
  FATAL: Name "enum content_PR" is generated by MyModule.content at line v2x.asn:2609 and MyModule.content at line v2x.asn:2627
  FATAL: Name "struct content" is generated by MyModule.content at line v2x.asn:2609 and MyModule.content at line v2x.asn:2627
  FATAL: Name "content" is generated by MyModule.content at line v2x.asn:2609 and MyModule.content at line v2x.asn:2627
  FATAL: ... 55 more name clashes not shown
  FATAL: Use "-fcompound-names" flag to asn1c to resolve name clashes
```
但是使用 asn1c -EF xxx.asn 进行语法检测时没有报错，在[ASN1 语法在线测试](https://asn1.io/asn1playground/)上面测试也没有问题。出现上述错误的原因是在生成 .c 文件时如果按照常规方式命名的话，会造成名字冲突。  

怎么解决最后一个 FATAL 已经给出了答案，使用 asn1c 的 `-fcompound-names` 选项，在生成源文件时，可以给名字添加修饰，以屏蔽底层 c 结构体的不兼容错误。
